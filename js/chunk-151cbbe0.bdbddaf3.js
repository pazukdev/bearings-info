(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-151cbbe0"],{"3b87":function(t,e,i){},"7aac7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PartList",{attrs:{"show-form":t.showForm},on:{"show-add-form":t.showAddForm,"hide-add-form":t.hideAddForm}})],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("CountedItemList",{attrs:{item:!0,"editable-comments":!0,sorted:!t.editMode}}),i("AddPartForm",{attrs:{"show-form":t.showForm},on:{"hide-add-form":t.hideAddForm}})],1)},r=[],o=i("74ca"),m=i("11d9"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemView.partsEnabled&&t.editMode?i("div",[i("p",[t._v(t._s(t.translate("Add unit / part")))]),t.showMessage?i("p",{staticClass:"alert-message"},[t._v("\n        "+t._s(t.translate(t.message))+"\n    ")]):t._e(),t.showAddForm?i("table",[i("tbody",[i("tr",[i("td",{staticClass:"three-column-table-left-column"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemLocation,expression:"itemLocation"}],attrs:{type:"text"},domProps:{value:t.itemLocation},on:{input:function(e){e.target.composing||(t.itemLocation=e.target.value)}}})]),i("td",{staticClass:"three-column-table-middle-column"},[i("ItemSelect",{attrs:{replacer:!1},on:{"hide-add-form":t.hideAddForm,"on-change":t.itemSelectOnChange}})],1),i("td",{staticClass:"three-column-table-right-column"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemQuantity,expression:"itemQuantity"}],attrs:{type:"text",required:"",pattern:"[L0-9\\\\.]*",title:"Allowed: numbers, dot"},domProps:{value:t.itemQuantity},on:{input:function(e){e.target.composing||(t.itemQuantity=e.target.value)}}})]),i("td",[t.isEmpty(t.item)||t.isEmpty(t.itemQuantity)?t._e():i("ButtonAdd",{on:{"add-item":t.addItem}})],1)])])]):t._e()]):t._e()},c=[],u=i("cebc"),l=i("98be"),h=i("2f62"),f=i("f9b6"),p=i("60bf"),b={name:"AddPartForm",components:{ButtonAdd:f["a"],ItemSelect:l["a"]},props:{showForm:Boolean},computed:Object(u["a"])({},Object(h["b"])({itemView:function(t){return t.dictionary.itemView},editMode:function(t){return t.dictionary.editMode}}),{showMessage:function(){return!m["a"].messageIsEmpty(this.message)},showAddForm:function(){return this.editMode&&this.showForm}}),data:function(){return{message:"",item:"",itemLocation:"",itemQuantity:1}},methods:{hideAddForm:function(){this.$emit("hide-add-form"),this.message="No parts found"},addItem:function(){if(this.message="","0"===this.itemQuantity?this.message="Quantity shouldn't be zero":"-"===this.itemQuantity&&(this.message="Quantity shouldn't contain -"),""===this.message){this.item.type="part",this.item.comment=this.itemLocation,this.item.secondComment=this.itemQuantity;var t=this.item;this.itemView.children.push(t),this.item="",this.itemLocation="",this.itemQuantity=1}},itemSelectOnChange:function(t){this.message="",this.item=t},translate:function(t){return p["a"].translate(t)},isEmpty:function(t){return m["a"].isEmpty(t)}}},v=b,w=(i("f352"),i("2877")),g=Object(w["a"])(v,d,c,!1,null,"732c1003",null),y=g.exports,I=i("ecc7"),A=i("7167"),L=i("159e"),F=i("518f"),_=i("1bb5"),C=i("3e98"),x=i("6924"),V=i("99f2"),T={name:"PartList",components:{CountedItemList:C["default"],Header:_["default"],ListHeader:F["a"],ButtonDelete:L["a"],NestedItemsTableTitle:A["a"],ButtonNavigateToItem:o["a"],AddPartForm:y},props:{showForm:Boolean},mixins:[x["a"],V["a"]],computed:{itemsListAsTables:function(){return I["a"].itemsListToTables(this.itemView.children)}},data:function(){return{message:"",titleVisible:""}},methods:{isTitleVisible:function(){return m["a"].isNestedItemsTitleVisible(this.itemView.children,this.editMode)},hideAddForm:function(){this.$emit("hide-add-form")}}},P=T,E=(i("8ae8"),Object(w["a"])(P,a,r,!1,null,"6abf1088",null)),Q=E.exports,M={name:"PartsSection",components:{PartList:Q},data:function(){return{showForm:!0}},methods:{showAddForm:function(){this.showForm=!0},hideAddForm:function(){this.showForm=!1}}},B=M,N=Object(w["a"])(B,n,s,!1,null,"039a953a",null);e["default"]=N.exports},"8ae8":function(t,e,i){"use strict";var n=i("3b87"),s=i.n(n);s.a},"98be":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedItem,expression:"selectedItem"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedItem=e.target.multiple?i:i[0]},t.onChange]}},t._l(t.getActualPossibleItemsList(),function(e){return i("option",{domProps:{value:e}},[t._v("\n                "+t._s(e.selectText)+"\n            ")])}),0)])},s=[],a=i("2843"),r=i("d3b0"),o=i("6924"),m=i("99f2"),d={name:"ItemSelect",props:{replacer:Boolean},mixins:[o["a"],m["a"]],data:function(){return{selectedItemMessage:"",selectedItem:""}},methods:{getActualPossibleItemsList:function(){var t,e,i;this.replacer?(t=this.itemView.possibleReplacers,e=this.itemView.deletedReplacers,i=this.itemView.replacersTable.replacers.slice()):(t=this.itemView.possibleParts,e=this.itemView.deletedChildren,i=this.itemView.children.slice()),!this.isEmpty(e)&&e.length>0&&(i=i.concat(e));for(var n=[],s=0;s<t.length;s++){var o=t[s];this.isInList(o,i)||(o.selectText=r["a"].createSelectText(o),n.push(o))}return n.length<1&&this.$emit("hide-add-form"),a["a"].sortBySelectText(n)},isInList:function(t,e){for(var i=0;i<e.length;i++)if(e[i].itemId===t.itemId)return!0;return!1},onChange:function(){this.$emit("on-change",this.selectedItem)}}},c=d,u=i("2877"),l=Object(u["a"])(c,n,s,!1,null,"1e25426c",null);e["a"]=l.exports},b725:function(t,e,i){},d3b0:function(t,e,i){"use strict";i("a481");var n=i("11d9"),s=i("60bf");e["a"]={translate:function(t){return s["a"].translate(t)},createSelectText:function(t){var e=t.itemCategory,i=this.isAddManufacturer(t,t.manufacturer,!0),n=this.translate(t.itemName),s=this.translate(t.manufacturer),a=n;return"seal"===e.toLowerCase()?a=t.size+" "+(i?s+" ":"")+n:i&&(a=s+" "+n),this.translate(e)+" "+a},isAddManufacturer:function(t,e,i){if(n["a"].isEmpty(e)||"ussr"===e.toLowerCase())return!1;if(i)return!0;var s=t.itemName;if(s===e+s.replace(e,"")||s===s.replace(e,"")+e)return!1;var a=t.itemCategory;return"seal"===a.toLowerCase()||"spark plug"===a.toLowerCase()},isInArrayById:function(t,e){for(var i=0;i<e.length;i++)if(e[i].itemId===t)return!0;return!1}}},f352:function(t,e,i){"use strict";var n=i("b725"),s=i.n(n);s.a}}]);
//# sourceMappingURL=chunk-151cbbe0.bdbddaf3.js.map